<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carreras | Fórmula 1 2025</title>
    <link rel="icon" type="image/png" href="/resources/img/icono.png">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/carrera.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Roboto:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>

    <header id="encabezado"></header>

    <main>
        <section class="race-simulator-section">
            <div class="race-config-bar">
                <div class="config-group">
                    <label for="select-pilot">Piloto</label>
                    <select id="select-pilot">
                        <option value="">Escoger piloto</option>
                    </select>
                </div>
                <div class="config-group">
                    <label for="select-circuit">Circuito</label>
                    <select id="select-circuit">
                        <option value="">Escoger circuito</option>
                    </select>
                </div>
                <div class="config-group">
                    <label for="select-laps">Vueltas</label>
                    <select id="select-laps">
                        <option value="3">3 Vueltas</option>
                        <option value="5">5 Vueltas</option>
                        <option value="10">10 Vueltas</option>
                    </select>
                </div>
                <div class="config-group">
                    <label for="select-drivers">Corredores</label>
                    <select id="select-drivers">
                        <option value="5">5 Corredores</option>
                        <option value="10">10 Corredores</option>
                        <option value="15">15 Corredores</option>
                        <option value="20">20 Corredores</option>
                    </select>
                </div>
            </div>

            <div class="race-display-area">
                <div id="pre-race-screen" class="pre-race-screen">
                    <button id="start-race-btn" class="start-race-btn">INICIAR CARRERA</button>
                </div>

                <div id="race-simulation-screen" class="race-simulation-screen" style="display: none;">
                    <div class="race-info">
                        <span id="current-lap-display">Vuelta: 0 / 0</span>
                        <button id="stop-race-btn" class="stop-race-btn">DETENER</button>
                        <span id="track-name-display"></span>
                    </div>
                    <div class="track-visualizer-canvas-container">
                        <canvas id="track-canvas"></canvas>
                        <div id="cars-container">
                        </div>
                    </div>
                </div>
            </div>

            <div id="drivers-standings" class="drivers-standings" style="display: none;">
                <h3>Clasificación <span id="standings-lap-display">(Vuelta 0)</span></h3>
                <div class="standings-header">
                    <span>Pos</span>
                    <span>Piloto</span>
                    <span>Escudería</span>
                    <span>Vueltas</span>
                    <span>Intervalo</span>
                </div>
                <div id="standings-list" class="standings-list">
                </div>
            </div>

            <div id="race-end-modal" class="race-end-modal" style="display: none;">
                <div class="modal-content">
                    <h2>¡Carrera Finalizada!</h2>
                    <p>El ganador es:</p>
                    <h3 id="winner-name"></h3>
                    <p id="winner-team"></p>
                    <button id="restart-race-btn" class="submit-btn">OK</button>
                </div>
            </div>
        </section>
    </main>

    <footer id="pie"></footer>

    <!-- Modal de inicio de sesión -->
    <div id="login-modal" class="auth-modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Iniciar Sesión</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Contraseña</label>
                    <input type="password" id="login-password" required>
                </div>
                <button type="submit" class="submit-btn">Entrar</button>
            </form>
            <p class="switch-modal-text">¿No tienes cuenta? <a href="#" id="show-register-modal">Regístrate aquí</a>.
            </p>
        </div>
    </div>

    <!-- Modal de registro de usuario -->
    <div id="register-modal" class="auth-modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Crear Cuenta</h2>
            <form id="register-form">
                <div class="form-group">
                    <label for="register-name">Nombre completo</label>
                    <input type="text" id="register-name" required>
                </div>
                <div class="form-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" required>
                </div>
                <div class="form-group">
                    <label for="register-password">Contraseña</label>
                    <input type="password" id="register-password" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="register-password-confirm">Confirmar Contraseña</label>
                    <input type="password" id="register-password-confirm" required>
                </div>
                <button type="submit" class="submit-btn">Registrarse</button>
            </form>
            <p class="switch-modal-text">¿Ya tienes cuenta? <a href="#" id="switch-to-login-modal">Inicia sesión</a>.
            </p>
        </div>
    </div>

    <script src="/js/componentes.js"></script>
    <script src="/js/usuario.js"></script>
    <script src="/js/carrera.js"></script>
</body>

</html>